{% extends 'manager_header.html' %}

{% block content %}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                
                <div class="card-header text-center" style="background-color: #FFFFFF; color: #333333; font-weight: bold;">
                    <h2 class="display-4">ADD SUPERVISOR</h2>
                </div>
                <div class="card-body" style="min-height: 600px;">
                    <form action="" method="post" id="registrationForm">
                        {% csrf_token %}
                        
                        {{ formm.supervisor_id.label_tag }}
                        {{ formm.supervisor_id }}
                        {{ formm.supervisor_id.errors }}  <!-- Display validation errors for supervisor_id field -->
                        
                        {{ formm.name.label_tag }}
                        {{ formm.name }}
                        {{ formm.name.errors }}  <!-- Display validation errors for name field -->
                        
                        {{ formm.DOB.label_tag }}
                        {{ formm.DOB }}
                        {{ formm.DOB.errors }}  <!-- Display validation errors for DOB field -->
                        
                        <div class="form-group row">
                            <label for="{{ formm.gender.id_for_label }}" class="col-sm-3 col-form-label"> Gender :</label>
                            <div class="col-sm-10">
                                {{ formm.gender }}
                                {{ formm.gender.errors }}  <!-- Display validation errors for gender field -->
                            </div>
                        </div>
                        
                        {{ formm.contact_no.label_tag }}
                        {{ formm.contact_no }}
                        {{ formm.contact_no.errors }}  <!-- Display validation errors for contact_no field -->
                        
                        {{ formm.email.label_tag }}
                        {{ formm.email }}
                        {{ formm.email.errors }}  <!-- Display validation errors for email field -->
                        
                        <br>
                        {{ formm.password.label_tag }}
                        {{ formm.password }}
                        {{ formm.password.errors }}  <!-- Display validation errors for password field -->
                        
                        <br>
                        <div class="text-center mt-3">
                            <button type="submit" class="btn btn-success">Submit</button>
                            <a href="home_manager" class="btn btn-secondary ml-2">Back</a>
                        </div>
                    </form>
                    
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add the latest Bootstrap and SweetAlert dependencies -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Custom CSS to increase input field size -->
<style>
    /* Increase the width of input fields */
    input[type="text"] {
        width: 100%;
        padding: 16px;
        font-size: 16px;
    }
    /* Increase the width of input fields */
    input[type="text"] {
        width: 100%;
        padding: 16px;
        font-size: 16px;
    }
    
    /* Increase the height of textareas */
    textarea {
        width: 100%;
        height: 250px; /* Adjust the height as needed */
        padding: 16px;
        font-size: 16px;
    }
    .dob-input {
        width: 100%;
        padding: 19px; /* Adjust the padding as needed */
        font-size: 16px; /* Adjust the font size as needed */
        
    }

    /* Increase the size of the choice field */
    .supervisor-gender-select {
        width: 30%;
        padding: 3px;
        font-size: 16px; /* Adjust the font size as needed */
        height: 50px;
        
    }

    /* Increase the size of the email input field */
    .email-input {
        width: 100%;
        padding: 16px; /* Adjust the padding as needed */
        font-size: 16px; /* Adjust the font size as needed */
    }
    /* Increase the size of the password input field */
    .password-input {
        width: 100%;
        padding: 16px; /* Adjust the padding as needed */
        font-size: 16px; /* Adjust the font size as needed */
        
    }
</style>

<script>
    // Form submission with SweetAlert
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
        var nameInput = document.getElementById('id_name');
        var emailInput = document.getElementById('id_email');
        
        if (nameInput.value.trim() === '' || emailInput.value.trim() === '') {
            event.preventDefault();
            Swal.fire({
                icon: 'error',
                title: 'Validation Error',
                text: 'Name , Email and password are required.'
            });
        } else {
            // Prevent the default form submission
            event.preventDefault();

            // Submit the form
            document.getElementById('registrationForm').submit();

            // Show a success dialog box using SweetAlert after form submission
            Swal.fire({
                icon: 'success',
                title: 'Registration Successful!',
                showConfirmButton: false,
                timer: 1600
            });
        }
    });
</script>

{% endblock %}
